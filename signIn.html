<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign In</title>

    <link rel="stylesheet" href="signIn.css";
  </head>
  <body>
    <div class="form-container">
      <div class="logo-side">
        <div>
          <img src="img/odin-lined.png" />
          ODIN
        </div>
        <div>
          <p>
            Photo by
            <a
              href="https://unsplash.com/fr/@haliewestphoto?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"
              >Halie West</a
            >
            on
            <a
              href="https://unsplash.com/photos/25xggax4bSA?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"
              >Unsplash</a
            >
          </p>
        </div>
      </div>

      <div class="form-side">
        <div class="form-header">
          <p>
            This is not a real online service! You know you need something like
            this in your life to help you realize your deepest dreams.
            <br />
            Sign up now to get started.
          </p>
          <p>You know you want to.</p>
        </div>

        <div class="sign-in-form" id="sign-in-form">
          <p>Let's do this!</p>

          <form>
            <div class="form-sections">
                <div class="labels">
                    <label for="first_name">FIRST NAME</label>
                    <input type="text" id="first_name" name="first_name" required />
                    <div id="first_name-error" class="error"></div>
                </div>
                <div class="labels">
                    <label for="last_name">LAST NAME</label>
                    <input type="text" id="last_name" name="last_name" required/>
                    <div id="last_name-error" class="error"></div>
                </div>
            </div>
            
            <div class="form-sections">
                <div class="labels">
                    <label for="email">EMAIL</label>
                    <input type="email" id="email" name="email" required autocomplete="off"/>
                    <div id="email-error" class="error"></div>
                </div>
                <div class="labels">
                    <label for="phone_no">PHONE NUMBER</label>
                    <input type="tel" id="phone_no" name="phone_no" required 
                    pattern="[0-9]{10}"/>
                    <div id="tel-error" class="error"></div>
                </div>
            </div>

            <div class="form-sections">
                <div class="labels">
                    <label for="password">PASSWORD</label>
                    <input type="password" id="password" name="password" required
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"/>
                    <div id="password-error" class="error"></div>
                </div>
                <div class="labels">
                    <label for="confirm_pass">CONFIRM PASSWORD</label>
                    <input type="password" id="passwordC" name="password" required
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"/>
                    <div id="passwordC-error" class="error"></div>
                </div>
            </div>
          </form>
        </div>

        <div class="submit-section">
          <button type="submit" form="sign-in-form">Create Account</button>
          <p>Already have an account? <a href="">Log in</a></p>
        </div>
      </div>
    </div>

    <script>
        const pw = document.querySelector("#password");
        const pwC = document.querySelector("#passwordC");
        const firstName = document.querySelector("#first_name");
        const lastName = document.querySelector("#last_name");
        const email = document.querySelector("#email");
        const tel = document.querySelector("#phone_no");
        const pwError = document.querySelector("#password-error");
        const pwCError = document.querySelector("#passwordC-error");
        const firstNameError = document.querySelector("#first-name-error");
        const lastNameError = document.querySelector("#last-name-error");
        const emailError = document.querySelector("#email-error");
        const telError = document.querySelector("#tel-error");

        firstName.addEventListener("input", function(event) {
            if(firstName.value === "") {
                firstNameError.textContent = "Please type in your first name";
            }else {
                firstNameError.textContent = "";
            }
        });

        lastName.addEventListener("input", function(event) {
            if(lastName.value === "") {
                lastNameError.textContent = "Please type in your last name";
            }else {
                lastNameError.textContent = "";
            }
        });

        email.addEventListener("input", function(event) {
            if(email.validity.typeMismatch) {
                emailError.textContent = "Please enter in a valid Email (john@email.com)";
            } else {
                emailError.textContent = "";
            }
        });

        tel.addEventListener("input", function (event) {
            if(tel.validity.patternMismatch) {
                telError.textContent = "Please enter in a 10 digit number";
            } else {
                telError.textContent = "";
            }
        });

        pw.addEventListener("input", function (event) {
            if(pw.validity.patternMismatch) {
                const currentValue = pw.value;
                const regExpCap = /[A-Z]/g;
                const regExpDig = /[0-9]/g;
                let result = "";
                if (regExpCap.text(currentValue)) {
                    result = "";
                } else {
                    result += "Missing at least 1 capital letter.";
                    result += "\n";
                }

                if (regExpDig.test(currentValue)) {
                    result += '';
                } else {
                    result += "Missing at least 1 Number";
                    result += "\n";
                }

                if(currentValue.length < 9) {
                    result += "Password must be at least 8 characters";
                    result += "";
                } else {
                    result += "";
                }

                console.log(result);
                pwError.textContent = result;
            } else {
                pwError.textContent = "";
            }
        });

        pwC.addEventListener("input", function (event) {
            if (pwC.value !== pw.value) {
                pwCError.textContent = "Passwords do not match";
            } else {
                pwCError.textContent = "";
            }
        });

    </script>
  </body>
</html>
